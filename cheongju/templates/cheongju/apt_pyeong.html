{% extends 'cheongju/base.html' %}
{% load static %}
{% block content %}
<section class="hero">
    <h2>í‰í˜•ì•ˆë‚´</h2>
</section>

<h3><br> í‰í˜•ì•ˆë‚´ <br></h3>

<div class="tabs">
    <button class="tab-btn" onclick="location.href='{% url 'cheongju:apt_danzi' %}'">ë‹¨ì§€ì•ˆë‚´</button>
    <button class="tab-btn" onclick="location.href='{% url 'cheongju:apt_block' %}'">ë‹¨ì§€ë°°ì¹˜ë„</button>
    <button class="tab-btn" onclick="location.href='{% url 'cheongju:apt_dong' %}'">ë™í˜¸ìˆ˜ë°°ì¹˜ë„</button>
    <button class="tab-btn" onclick="location.href='{% url 'cheongju:apt_commu' %}'">ì»¤ë®¤ë‹ˆí‹°</button>
    <button class="tab-btn active" onclick="location.href='{% url 'cheongju:apt_pyeong' %}'">í‰ë©´ì•ˆë‚´</button>
</div>

<!-- íƒ­ ë²„íŠ¼ -->
<div class="tabs-pyeong">
    <button class="tab-btn" onclick="showPlan('84A', this)">84mÂ²A</button>
    <button class="tab-btn" onclick="showPlan('84B', this)">84mÂ²B</button>
    <button class="tab-btn" onclick="showPlan('116A', this)">116mÂ²A</button>
    <button class="tab-btn" onclick="showPlan('116B', this)">116mÂ²B</button>
    <button class="tab-btn" onclick="showPlan('134', this)">134mÂ²</button>
    <button class="tab-btn" onclick="showPlan('216', this)">216mÂ²P</button>
    <button class="tab-btn" onclick="showPlan('220', this)">220mÂ²P</button>
</div>

<div class="pyeong">
    <div class="plan-content">
        <div id="plan-84A" class="plan" style="display: block;">
            <img src="{% static 'cheongju/images/84A.webp' %}">
        </div>
        <div id="plan-84B" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/84B.webp' %}">
        </div>
        <div id="plan-116A" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/116A.webp' %}">
        </div>
        <div id="plan-116B" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/116B.webp' %}">
        </div>
        <div id="plan-134" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/134.webp' %}">
        </div>
        <div id="plan-216" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/216.webp' %}">
        </div>
        <div id="plan-220" class="plan" style="display: none;">
            <img src="{% static 'cheongju/images/220.webp' %}">
        </div>
    </div>
</div>

<script>
    function showPlan(plan, button) {
        // ëª¨ë“  í‰ë©´ ìˆ¨ê¸°ê¸°
        const plans = document.querySelectorAll('.plan');
        plans.forEach(function (planDiv) {
            planDiv.style.display = 'none';
        });
    
        // ì„ íƒí•œ í‰ë©´ë§Œ í‘œì‹œ
        const selectedPlan = document.getElementById(`plan-${plan}`);
        if (selectedPlan) {
            selectedPlan.style.display = 'block';
        }
    
        // ğŸ“Œ "tabs-pyeong" ë‚´ë¶€ ë²„íŠ¼ë“¤ë§Œ active ì œê±°
        const pyeongTabs = document.querySelectorAll('.tabs-pyeong .tab-btn');
        pyeongTabs.forEach(function (tab) {
            tab.classList.remove('active');
        });
    
        // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
        button.classList.add('active');
    }
    
    // í˜„ì¬ URLì—ì„œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì½ê¸°
    document.addEventListener('DOMContentLoaded', function () {
        const urlParams = new URLSearchParams(window.location.search);
        const plan = urlParams.get('plan'); // "plan" íŒŒë¼ë¯¸í„° ê°’ ê°€ì ¸ì˜¤ê¸°
    
        if (plan) {
            // í•´ë‹¹ í‰ë©´ í‘œì‹œ
            showPlan(plan, document.querySelector(`button[onclick="showPlan('${plan}', this)"]`));
        } else {
            // ê¸°ë³¸ í‰ë©´ìœ¼ë¡œ ì²« ë²ˆì§¸ í‰ë©´ í‘œì‹œ
            showPlan('84A', document.querySelector('button[onclick="showPlan(\'84A\', this)"]'));
        }
    });
    
</script>

{% endblock %}